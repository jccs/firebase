<section class="mensaje">
  <h3>Mensajes</h3>

  <mat-tab-group>
    <mat-tab label="Agregar Mensaje">
              <mat-card class="card card-form">
                <form class="form">
                  <mat-form-field class="form-field">
                    <input matInput
                    type="text" 
                    name="nombre"
                    placeholder="Nombre"
                    [(ngModel)]="nombre">
                    
                  </mat-form-field>
          
                  <mat-form-field class="form-field">
                    <input matInput
                    type="text" 
                    name="correo"
                    placeholder="Correo"
                    [(ngModel)]="correo">
                  </mat-form-field>
          
                  <mat-form-field class="form-field">
                    <input matInput
                    type="text" 
                    name="mensaje"
                    placeholder="Mensaje"
                    [(ngModel)]="mensaje">
                    </mat-form-field>

                    <p>
                        <input #file type="file" accept='image/*' (change)="leerImagen(file.files)" />
                        
                        <img [src]="imgURL" height="200" *ngIf="imgURL">
                    </p>
                </form>
          
                <button mat-raised-button color="primary"
                (click)="guardar()"
                >
                Enviar mensaje
                </button>
            </mat-card>
          </mat-tab>
          <mat-tab label="Lista de mensajes">
              <mat-card class="card">
    
              <ul class="mensaje-list">
                <li class="mensaje-list-item" *ngFor='let mensaje of mensajes | async'>
                  <div class="mensaje-col">
                    <h3><a routerLink="{{mensaje.key}}">{{mensaje.nombre}}</a></h3>
                    <h4>{{mensaje.correo}}</h4>
                    <p>{{mensaje.mensaje}}</p>
                    <p *ngIf="mensaje.imagen"><img class="imagen" [src]="mensaje.imagen"  alt="imagen" /></p>
                  </div>
                  <div class="mensaje-col">
                    <button mat-mini-fab color="warn" (click)="borrar(mensaje.key)">-</button>
                  </div>  
                </li>
              </ul>
            </mat-card> 
          </mat-tab>
        </mat-tab-group>

    


  
</section>
<router-outlet></router-outlet>